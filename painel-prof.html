<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel Professor</title>

<style>
body{
background:#0b132b;
color:white;
font-family:Arial;
padding:40px;
}

.card{
background:#1c2541;
padding:20px;
border-radius:10px;
max-width:500px;
margin:auto;
}

input,textarea{
width:100%;
padding:10px;
margin-top:10px;
border:none;
border-radius:6px;
}

button{
margin-top:15px;
padding:12px;
width:100%;
background:orange;
border:none;
color:white;
font-size:16px;
border-radius:6px;
cursor:pointer;
}
</style>
</head>

<body>

<div class="card">

<h2>ðŸŽµ Criar Aula</h2>

<input id="titulo" placeholder="TÃ­tulo da aula">
<textarea id="descricao" placeholder="DescriÃ§Ã£o"></textarea>

<button id="salvar">Publicar Aula</button>

<hr>

<h3>Aulas Criadas</h3>
<div id="lista"></div>

</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";

import {
getFirestore,
collection,
addDoc,
getDocs
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig={
apiKey:"AIzaSyBp4HTngTmzi3Kh2ejMSURnU8ctJoTJ1ms",
authDomain:"dom-music-127a8.firebaseapp.com",
projectId:"dom-music-127a8",
storageBucket:"dom-music-127a8.appspot.com",
messagingSenderId:"412932629110",
appId:"1:412932629110:web:f6122e06eb77179a3f3557"
};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

const lista=document.getElementById("lista");

async function carregar(){

lista.innerHTML="";

const querySnapshot=await getDocs(collection(db,"aulas"));

querySnapshot.forEach(doc=>{
const aula=doc.data();

lista.innerHTML+=`
<p>ðŸ“š ${aula.titulo}</p>
`;
});

}

document.getElementById("salvar")
.addEventListener("click",async()=>{

await addDoc(collection(db,"aulas"),{
titulo:document.getElementById("titulo").value,
descricao:document.getElementById("descricao").value
});

alert("Aula publicada!");

carregar();

});

carregar();

</script>

</body>
</html>
